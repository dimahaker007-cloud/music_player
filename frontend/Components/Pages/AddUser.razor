@page "/Adduser"
@rendermode InteractiveServer
@inject HttpClient Http
@inject NavigationManager NavManager

<div>
    <input type="text" 
           @bind="name"
           placeholder="Введіть ваше ім'я"
           style="width: 300px; 
                  height: 35px; 
                  padding: 8px; 
                  font-size: 14px;
                  border: 1px solid #ccc;
                  border-radius: 4px;
                  margin-bottom: 10px;
                  display: block;">
    
    <input type="password" 
           @bind="password"
           placeholder="Введіть пароль"
           style="width: 300px; 
                  height: 35px; 
                  padding: 8px; 
                  font-size: 14px;
                  border: 1px solid #ccc;
                  border-radius: 4px;
                  margin-bottom: 10px;
                  display: block;">
    
    <input type="password" 
           @bind="confirmPassword"
           placeholder="Підтвердьте пароль"
           style="width: 300px; 
                  height: 35px; 
                  padding: 8px; 
                  font-size: 14px;
                  border: 1px solid #ccc;
                  border-radius: 4px;
                  margin-bottom: 15px;
                  display: block;">
    
    <button @onclick="CreateUser"
            style="background-color: #4CAF50; 
                   color: white; 
                   padding: 10px 20px; 
                   border: none; 
                   border-radius: 4px; 
                   cursor: pointer;
                   font-size: 16px;">
        Створити
    </button>
</div>

@code {
    private string name = "";
    private string password = "";
    private string confirmPassword = "";
    
    private async Task CreateUser()
    {
        if (password != confirmPassword)
        {
            // Можна додати повідомлення
            return;
        }
        
        var user = new { name, password };
        var response = await Http.PostAsJsonAsync("/api/Users", user);
        
        if (response.IsSuccessStatusCode)
        {
            NavManager.NavigateTo("/Users");
        }
    }
}